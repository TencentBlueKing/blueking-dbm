{
  "bk_biz_id": 0,
  "plugin_id": "dbm_twemproxy_exporter",
  "name": "dbm_twemproxy_exporter",
  "db_type": "redis",
  "short_name": "twemproxy",
  "details": {
    "name": "dbm_twemproxy_exporter",
    "label": "component",
    "params": {
      "plugin": {
        "-addr": "{{ target.host.bk_host_innerip }}:{{ target.process[\"redis-twemproxy\"].bind_info[0].port }}",
        "-bind": "${host}:${port}",
        "-password-file": "/home/mysql/.exporter/{{ target.process[\"redis-twemproxy\"].bind_info[0].port }}.conf",
        "\u670d\u52a1\u5b9e\u4f8b\u7ef4\u5ea6\u6ce8\u5165": {
          "app": "app",
          "appid": "appid",
          "instance": "instance",
          "cluster_name": "cluster_name",
          "cluster_type": "cluster_type",
          "instance_host": "instance_host",
          "instance_port": "instance_port",
          "instance_role": "instance_role",
          "cluster_domain": "cluster_domain"
        }
      },
      "collector": {
        "host": "127.0.0.1",
        "port": "9121",
        "period": 60
      }
    },
    "plugin_info": {
      "plugin_id": "dbm_twemproxy_exporter",
      "metric_json": [
        {
          "fields": [],
          "table_id": "exporter_dbm_twemproxy_exporter.group_default",
          "rule_list": [],
          "table_desc": "\u9ed8\u8ba4\u5206\u7ec4",
          "table_name": "group_default"
        },
        {
          "fields": [
            {
              "name": "process_cpu_seconds_total",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "process_max_fds",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "process_open_fds",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "process_resident_memory_bytes",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "process_start_time_seconds",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "process_virtual_memory_bytes",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "process_virtual_memory_max_bytes",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "promhttp_metric_handler_requests_in_flight",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "twemproxy_cmdstat_response_latency_sum",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "twemproxy_cmdstat_response_latency_count",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "twemproxy_connections_curr",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "twemproxy_connections_total",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "twemproxy_stat_up",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "twemproxy_up",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "twemproxy_uptime",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            }
          ],
          "table_id": "exporter_dbm_twemproxy_exporter.Group1",
          "rule_list": [],
          "table_desc": "\u5206\u7ec41",
          "table_name": "Group1"
        },
        {
          "fields": [
            {
              "name": "twemproxy_exporter_build_info",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [
                "build_date",
                "commit_sha",
                "golang_version",
                "version"
              ],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "twemproxy_version",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [
                "version"
              ],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "build_date",
              "type": "string",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "description": "",
              "source_name": "",
              "monitor_type": "dimension",
              "is_diff_metric": false
            },
            {
              "name": "commit_sha",
              "type": "string",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "description": "",
              "source_name": "",
              "monitor_type": "dimension",
              "is_diff_metric": false
            },
            {
              "name": "golang_version",
              "type": "string",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "description": "",
              "source_name": "",
              "monitor_type": "dimension",
              "is_diff_metric": false
            },
            {
              "name": "version",
              "type": "string",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "description": "",
              "source_name": "",
              "monitor_type": "dimension",
              "is_diff_metric": false
            }
          ],
          "table_id": "exporter_dbm_twemproxy_exporter.Group2",
          "rule_list": [],
          "table_desc": "\u5206\u7ec42",
          "table_name": "Group2"
        },
        {
          "fields": [
            {
              "name": "promhttp_metric_handler_requests_total",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [
                "code"
              ],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "code",
              "type": "string",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "description": "",
              "source_name": "",
              "monitor_type": "dimension",
              "is_diff_metric": false
            }
          ],
          "table_id": "exporter_dbm_twemproxy_exporter.Group3",
          "rule_list": [],
          "table_desc": "\u5206\u7ec43",
          "table_name": "Group3"
        },
        {
          "fields": [
            {
              "name": "twemproxy_cmdstat_calls_total",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [
                "cmd"
              ],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "twemproxy_cmdstat_usec_total",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [
                "cmd"
              ],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "cmd",
              "type": "string",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "description": "",
              "source_name": "",
              "monitor_type": "dimension",
              "is_diff_metric": false
            }
          ],
          "table_id": "exporter_dbm_twemproxy_exporter.Group4",
          "rule_list": [],
          "table_desc": "\u5206\u7ec44",
          "table_name": "Group4"
        },
        {
          "fields": [
            {
              "name": "twemproxy_cmdstat_response_latency_bucket",
              "type": "double",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "dimensions": [
                "le"
              ],
              "description": "",
              "source_name": "",
              "monitor_type": "metric",
              "is_diff_metric": false
            },
            {
              "name": "le",
              "type": "string",
              "unit": "none",
              "is_active": true,
              "is_manual": true,
              "description": "",
              "source_name": "",
              "monitor_type": "dimension",
              "is_diff_metric": false
            }
          ],
          "table_id": "exporter_dbm_twemproxy_exporter.Group5",
          "rule_list": [],
          "table_desc": "\u5206\u7ec45",
          "table_name": "Group5"
        }
      ],
      "plugin_type": "Exporter",
      "os_type_list": [
        "linux"
      ]
    },
    "collect_type": "Exporter",
    "target_nodes": [],
    "target_node_type": "TOPO",
    "target_object_type": "SERVICE"
  },
  "version": 5
}