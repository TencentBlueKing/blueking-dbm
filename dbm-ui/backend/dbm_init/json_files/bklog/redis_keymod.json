{
    "bk_biz_id": {{bk_biz_id}},
    "etl_config": "bk_log_json",
    "table_id": "redis_keymod",
    "collector_config_name": "redis_keymod",
    "collector_config_name_en": "redis_keymod",
    "collector_scenario_id": "row",
    "category_id": "applications",
    "params": {
        "paths": [
            "/home/mysql/dbareport/keylifecycle/redis_keymod_*.log"
        ],
        "conditions": {
            "separator": "",
            "separator_filters": [],
            "type": "match",
            "match_type": "include",
            "match_content": ""
        },
        "encoding": "UTF-8"
    },
    "storage_cluster_id": 3,
    "retention": 7,
    "storage_replies": 1,
    "es_shards": 3,
    "allocation_min_days": 0,
    "etl_params": {
        "es_unique_field_list": [
            "cloudId",
            "serverIp",
            "path",
            "gseIndex",
            "iterationIndex",
            "bk_host_id"
        ],
        "separator_node_source": "data",
        "separator_node_action": "json",
        "separator_node_name": "bk_separator_object",
        "retain_original_text": true,
        "separator_fields_remove": "",
        "etl_flat": false
    },
    "fields": [
        {
            "value": "2023-11-17T00:00:09.351Z",
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": true,
            "is_delete": false,
            "alias_name": "stattime",
            "field_name": "@timestamp",
            "field_type": "string",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "string"
        },
        {
            "value": "127.0.0.1:30000",
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": true,
            "is_delete": false,
            "alias_name": "",
            "field_name": "addr",
            "field_type": "string",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "string"
        },
        {
            "value": "3",
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": false,
            "is_delete": false,
            "alias_name": "",
            "field_name": "app",
            "field_type": "string",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "string"
        },
        {
            "value": 0,
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": false,
            "is_delete": false,
            "alias_name": "",
            "field_name": "avg_fileds",
            "field_type": "int",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "int"
        },
        {
            "value": 10,
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": false,
            "is_delete": false,
            "alias_name": "",
            "field_name": "avg_valsize",
            "field_type": "int",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "int"
        },
        {
            "value": 3,
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": false,
            "is_delete": false,
            "alias_name": "",
            "field_name": "count",
            "field_type": "long",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "long"
        },
        {
            "value": "red.kipper.tree.db",
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": true,
            "is_delete": false,
            "alias_name": "",
            "field_name": "domain",
            "field_type": "string",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "string"
        },
        {
            "value": "string",
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": true,
            "is_delete": false,
            "alias_name": "",
            "field_name": "key_type",
            "field_type": "string",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "string"
        },
        {
            "value": 0,
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": false,
            "is_delete": false,
            "alias_name": "",
            "field_name": "keys_expired",
            "field_type": "long",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "long"
        },
        {
            "value": 3,
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": false,
            "is_delete": false,
            "alias_name": "",
            "field_name": "keys_nottl",
            "field_type": "int",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "int"
        },
        {
            "value": 0,
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": false,
            "is_delete": false,
            "alias_name": "",
            "field_name": "max_fileds",
            "field_type": "long",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "long"
        },
        {
            "value": 10,
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": false,
            "is_delete": false,
            "alias_name": "",
            "field_name": "max_valsize",
            "field_type": "long",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "long"
        },
        {
            "value": "[0~9]+.[0~9]+.[0~9]+.[0~9]+_[0~9]+:[A~Za~z]+",
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": true,
            "is_delete": false,
            "alias_name": "",
            "field_name": "partten",
            "field_type": "string",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "string"
        },
        {
            "value": 100,
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": false,
            "is_delete": false,
            "alias_name": "",
            "field_name": "sample_raito",
            "field_type": "double",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "double"
        },
        {
            "value": [
                "127.0.0.1_30000:heartbeat",
                "127.0.0.1_30000:heartbeat"
            ],
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": true,
            "is_delete": false,
            "alias_name": "",
            "field_name": "samples",
            "field_type": "string",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "string"
        },
        {
            "value": 0,
            "option": {
                "time_zone": "",
                "time_format": ""
            },
            "is_time": false,
            "verdict": false,
            "is_delete": false,
            "alias_name": "",
            "field_name": "top_idx",
            "field_type": "int",
            "description": "",
            "is_analyzed": false,
            "is_built_in": false,
            "is_dimension": false,
            "previous_type": "int"
        }
    ],
    "need_assessment": false,
    "target_object_type": "HOST",
    "target_node_type": "TOPO",
    "target_nodes": [
        {% for node in target_nodes %}{{ node }}{% if not loop.last %}, {% endif %}
        {% endfor %}
    ]
}